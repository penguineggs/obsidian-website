(()=>{function E(n,d,L){return"https://raw.githubusercontent.com/"+n+"/"+(L||"HEAD")+"/"+d}var $=E("obsidianmd/obsidian-releases","community-plugins.json");async function z(){let n=await ajaxPromise({url:$}),d=JSON.parse(n);if(!Array.isArray(d))throw new Error("Failed to parse community plugins.");return d}var j=E("obsidianmd/obsidian-releases","community-css-themes.json");async function C(){let n=await ajaxPromise({url:j}),d=JSON.parse(n);if(!Array.isArray(d))throw new Error("Failed to parse community themes.");return d}(async()=>{function n(p){return Math.floor(Math.random()*p.length)}let d=E("obsidianmd/obsidian-releases","community-plugins.json"),L=E("obsidianmd/obsidian-releases","community-css-themes.json"),G="GUESS_NAME_BY_DESC",y="GUESS_DESC_BY_NAME",A="GUESS_AUTHOR_BY_NAME",q="GUESS_AUTHOR_BY_DESC",N=[G,y,A,q],v="GUESS_NAME_BY_IMAGE",D="GUESS_DARK_MODE_BY_NAME",H="GUESS_LIGHT_MODE_BY_NAME",w="GUESS_AUTHOR_BY_IMAGE",I=[v,D,H,w],O=fish(".quiz-area"),m=fish(".quiz-question"),r=fish(".quiz-options"),o=fish(".quiz-result"),U=fish(".quiz-result-text"),P=fish(".current-score"),R=fish(".current-question"),g=0,M=0,B=15;o.addEventListener("click",()=>{b()});let Y=fish(".js-start-quiz");Y.addEventListener("click",()=>{b()});let f=await z(),T=await C(),a=()=>{U.setText("\u{1F389} Correct! You mined 1 crystal!"),o.removeClasses(["mod-error","mod-end"]),o.addClass("mod-success"),o.show(),g+=1},c=(p,u)=>{U.setText(`\u{1F645} Wrong! The correct answer is "${p}".`),o.removeClasses(["mod-success","mod-end"]),o.addClass("mod-error"),o.show()},k=()=>{U.innerHTML=`That was the last question! Your final score is ${g}.<br>Click to play again!`,o.removeClasses(["mod-error","mod-success"]),o.addClass("mod-end"),o.show()},b=()=>{if(M++,R.setText(String(M)),P.setText(String(g)),M>B){k(),g=0,M=0;return}O.show(),Y.hide(),o.hide();let p=Math.random()>.5;if(r.empty(),p){let u=N[n(N)],s=[],_=4,S=4;for(;S>0;){let e=n(f);s.contains(e)||(s.push(e),S-=1)}let h=n(s),i=f[s[h]];if(u===q){m.innerHTML=`Who is the author of the plugin that does this?<br>"${i.description}"`;for(let e=0;e<_;e++){let t=s[e];r.createDiv({cls:"quiz-option",text:f[t].author},l=>{l.addEventListener("click",()=>{e===h?a():c(i.author,1)})})}}else if(u===A){m.innerHTML=`Who is the author of the "${i.name}" plugin?`;for(let e=0;e<_;e++){let t=s[e];r.createDiv({cls:"quiz-option",text:f[t].author},l=>{l.addEventListener("click",()=>{e===h?a():c(i.author,1)})})}}else if(u===y){m.innerHTML=`What does the "${i.name}" plugin do?`;for(let e=0;e<_;e++){let t=s[e];r.createDiv({cls:"quiz-option",text:f[t].description},l=>{l.addEventListener("click",()=>{e===h?a():c(i.description,3)})})}}else if(u===G){m.innerHTML=`What's the name of the plugin that does this?<br>"${i.description}"`;for(let e=0;e<_;e++){let t=s[e];r.createDiv({cls:"quiz-option",text:f[t].name},l=>{l.addEventListener("click",()=>{e===h?a():c(i.name,3)})})}}}else{let u=I[n(I)],s=[],_=4,S=4;for(;S>0;){let e=n(T);s.contains(e)||(s.push(e),S-=1)}let h=n(s),i=T[s[h]];if(u===w){let e=E(i.repo,i.screenshot,i.branch);m.innerHTML=`Who is the author of this theme?<br><img src="${e}">`;for(let t=0;t<_;t++){let l=s[t];r.createDiv({cls:"quiz-option",text:T[l].author},x=>{x.addEventListener("click",()=>{t===h?a():c(i.author,1)})})}}else if(u===D){m.innerHTML=`Does the "${i.name}" theme have a dark mode?`;let e=i.modes.contains("dark");r.createDiv({cls:"quiz-option",text:"Yes"},t=>{t.addEventListener("click",()=>{e?a():c("no",2)})}),r.createDiv({cls:"quiz-option",text:"No"},t=>{t.addEventListener("click",()=>{e?c("yes",2):a()})})}else if(u===H){m.innerHTML=`Does the "${i.name}" theme have a light mode?`;let e=i.modes.contains("light");r.createDiv({cls:"quiz-option",text:"Yes"},t=>{t.addEventListener("click",()=>{e?a():c("no",2)})}),r.createDiv({cls:"quiz-option",text:"No"},t=>{t.addEventListener("click",()=>{e?c("yes",2):a()})})}else if(u===v){let e=E(i.repo,i.screenshot,i.branch);m.innerHTML=`What's the name of this theme?<br><img src="${e}">`;for(let t=0;t<_;t++){let l=s[t];r.createDiv({cls:"quiz-option",text:T[l].name},x=>{x.addEventListener("click",()=>{t===h?a():c(i.name,3)})})}}}}})();})();
